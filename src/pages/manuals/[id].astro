---
import BaseLayout from "../../layouts/BaseLayout.astro";

export async function getStaticPaths() {
  const equipmentIds = [
    'perlick', 'perlick-lowboys', 'turbochef', 'frosty', 'hoshizaki', 'hoshizaki-refrigerators',
    'southbend', 'chicago-folders', 'ironers', 'laundry', 'bills-bitch',
    'walk-ins', 'low-boys', 'k2e-controllers', 'adt-systems', 'american-panel'
  ];
  
  return equipmentIds.map(id => ({
    params: { id }
  }));
}

const { id } = Astro.params;
const pdfPath = `/manuals/${id}.pdf`;

const manualData = {
  'hoshizaki': {
    title: 'Hoshizaki Ice Maker Manual',
    icon: 'üßä',
    model: 'KM-500MAH',
    specs: {
      'Ice Production': '500 lbs/24hr',
      'Storage Capacity': '250 lbs',
      'Water Usage': '6.8 gal/100 lbs',
      'Power': '115V/60Hz/1Ph',
      'Refrigerant': 'R-404A',
      'Dimensions': '30"W x 24"D x 39"H'
    },
    sections: [
      'Installation Requirements',
      'Startup Procedures',
      'Operation & Controls',
      'Cleaning & Sanitizing',
      'Troubleshooting Guide',
      'Wiring Diagrams',
      'Parts Breakdown',
      'Warranty Information'
    ]
  },
  'perlick': {
    title: 'Perlick Glycol Chiller Manual',
    icon: 'üç∫',
    model: '4420-2',
    specs: {
      'Cooling Capacity': '2 HP',
      'Glycol Flow Rate': '15 GPM',
      'Temperature Range': '28-40¬∞F',
      'Power': '208-230V/60Hz/1Ph',
      'Refrigerant': 'R-404A',
      'Dimensions': '24"W x 30"D x 36"H'
    },
    sections: [
      'System Overview',
      'Installation Guide',
      'Glycol Concentration',
      'Temperature Controls',
      'Preventive Maintenance',
      'Troubleshooting',
      'Electrical Schematics',
      'Service Parts List'
    ]
  },
  'turbochef': {
    title: 'TurboChef Oven Manual',
    icon: 'üî•',
    model: 'Tornado 2',
    specs: {
      'Cooking Power': '3000W Microwave + Convection',
      'Cavity Size': '1.2 cu ft',
      'Temperature Range': '200-500¬∞F',
      'Power': '208-240V/60Hz/1Ph',
      'Ventilation': 'Type I Hood Required',
      'Dimensions': '24"W x 26"D x 26"H',
      'Weight': '165 lbs',
      'Warranty': '2 Years Parts & Labor',
      'Certifications': 'NSF, UL, Energy Star'
    },
    sections: [
      'Safety Information & Warnings',
      'Installation Requirements & Setup',
      'Programming Guide & Menu Creation',
      'Daily Cooking Procedures',
      'Cleaning & Sanitization Protocols',
      'Error Code Reference & Diagnostics',
      'Component Testing & Calibration',
      'Preventive Maintenance Schedule',
      'Wiring Diagrams & Schematics',
      'Parts Identification & Ordering',
      'Technical Support & Service',
      'Training Resources & Videos'
    ]
  },
  'frosty': {
    title: 'Frosty Soft-Serve Manual',
    icon: 'üç¶',
    model: 'F-2000',
    specs: {
      'Production Rate': '200 servings/hour',
      'Hopper Capacity': '20 quarts',
      'Draw Temperature': '18-22¬∞F',
      'Power': '208-230V/60Hz/3Ph',
      'Refrigerant': 'R-404A',
      'Dimensions': '22"W x 32"D x 68"H'
    },
    sections: [
      'Setup & Installation',
      'Daily Operations',
      'Mix Preparation',
      'Cleaning Procedures',
      'Troubleshooting',
      'Maintenance Schedule',
      'Parts Diagrams',
      'FDA Compliance'
    ]
  },
  'southbend': {
    title: 'Southbend Range Manual',
    icon: 'üç≥',
    model: 'SRG-36',
    specs: {
      'Burner Output': '30,000 BTU/hr each',
      'Oven Capacity': '26"W x 20"D x 14"H',
      'Temperature Range': '200-500¬∞F',
      'Gas Connection': '3/4" NPT',
      'Gas Type': 'Natural or LP',
      'Dimensions': '36"W x 32"D x 36"H'
    },
    sections: [
      'Safety Guidelines',
      'Gas Connection',
      'Burner Adjustment',
      'Oven Calibration',
      'Cleaning Procedures',
      'Troubleshooting',
      'Parts Identification',
      'Conversion Instructions'
    ]
  }
};

// Add comprehensive data for missing equipment
const additionalManualData = {
  'chicago-folders': {
    title: 'Chicago Folders Manual',
    icon: 'üìÑ',
    model: 'CF-2000',
    specs: {
      'Processing Speed': '12,000 sheets/hour',
      'Paper Weight': '16-28 lb bond',
      'Fold Types': 'Letter, Half, Z-fold',
      'Power': '115V/60Hz/1Ph',
      'Air Pressure': '80-120 PSI',
      'Dimensions': '48"W x 30"D x 42"H',
      'Weight': '285 lbs',
      'Warranty': '1 Year Parts & Labor'
    },
    sections: [
      'Safety Guidelines & Warnings',
      'Installation & Setup',
      'Paper Loading Procedures',
      'Fold Pattern Programming',
      'Daily Operation Guide',
      'Cleaning & Maintenance',
      'Troubleshooting Guide',
      'Error Code Reference',
      'Parts Identification',
      'Service Manual'
    ]
  },
  'ironers': {
    title: 'Commercial Ironers Manual',
    icon: 'üß∫',
    model: 'IRN-3000',
    specs: {
      'Roll Width': '30 inches',
      'Heating Elements': '15 KW total',
      'Temperature Range': '250-400¬∞F',
      'Speed Control': 'Variable 1-10 FPM',
      'Power': '208-240V/60Hz/3Ph',
      'Steam Connection': '3/4" NPT',
      'Dimensions': '72"W x 36"D x 48"H',
      'Weight': '850 lbs'
    },
    sections: [
      'Safety Information',
      'Installation Requirements',
      'Steam & Electrical Setup',
      'Temperature Controls',
      'Speed Adjustment',
      'Daily Operation',
      'Cleaning Procedures',
      'Troubleshooting',
      'Maintenance Schedule',
      'Parts Diagram'
    ]
  },
  'laundry': {
    title: 'Commercial Laundry Manual',
    icon: 'üåÄ',
    model: 'LND-4000',
    specs: {
      'Capacity': '40 lbs',
      'Wash Cycles': '12 programmable',
      'Water Temperature': 'Up to 180¬∞F',
      'Extract Speed': '350 G-Force',
      'Power': '208-240V/60Hz/3Ph',
      'Water Connection': '3/4" hot/cold',
      'Drain': '2" standpipe',
      'Dimensions': '42"W x 38"D x 56"H'
    },
    sections: [
      'Installation Guide',
      'Water & Drain Connections',
      'Chemical Injection Setup',
      'Programming Cycles',
      'Daily Operations',
      'Cleaning & Sanitizing',
      'Troubleshooting Guide',
      'Maintenance Schedule',
      'Parts & Service'
    ]
  },
  'bills-bitch': {
    title: 'Bill\'s Special Equipment Manual',
    icon: '‚ú®',
    model: 'BB-ULTIMATE',
    specs: {
      'Magic Level': 'Maximum',
      'Efficiency': '999%',
      'Power Source': 'Pure Awesomeness',
      'Maintenance': 'Self-healing',
      'Warranty': 'Lifetime + Beyond',
      'Special Features': 'Does Everything',
      'Dimensions': 'Perfect Size',
      'Weight': 'Weightless'
    },
    sections: [
      'The Legend of Bill\'s Bitch',
      'Unleashing Maximum Power',
      'Advanced Magic Techniques',
      'Troubleshooting (Rarely Needed)',
      'Maintenance (Practically None)',
      'Upgrade Possibilities',
      'Safety (It\'s Always Safe)',
      'Warranty Claims (Never Needed)'
    ]
  },
  'walk-ins': {
    title: 'Walk-In Coolers & Freezers Manual',
    icon: 'üö™',
    model: 'WIC-1012',
    specs: {
      'Cooler Size': '10\' x 12\' x 8\'',
      'Freezer Size': '8\' x 10\' x 8\'',
      'Insulation': 'R-25 polyurethane foam',
      'Temperature Range': '-10¬∞F to 45¬∞F',
      'Refrigerant': 'R-404A',
      'Power': '208-230V/3Ph/60Hz',
      'Compressor': '3HP hermetic scroll',
      'Defrost': 'Electric defrost system'
    },
    sections: [
      'Installation & Setup Guidelines',
      'Temperature Control Systems',
      'Defrost Operation & Scheduling',
      'Door Systems & Gaskets',
      'Refrigeration Troubleshooting',
      'Preventive Maintenance',
      'Energy Efficiency Optimization',
      'Safety Procedures',
      'Electrical Schematics',
      'Parts Identification & Ordering',
      'Warranty Information',
      'Compliance Documentation'
    ]
  },
  'low-boys': {
    title: 'Low Boy Refrigeration Manual',
    icon: 'üì¶',
    model: 'LB-48',
    specs: {
      'Capacity': '12 cu ft',
      'Temperature Range': '33¬∞F to 38¬∞F',
      'Compressor': '1/4 HP hermetic',
      'Power': '115V/1Ph/60Hz',
      'Refrigerant': 'R-134a',
      'Defrost': 'Off-cycle defrost',
      'Dimensions': '48"W x 30"D x 32"H',
      'Door Configuration': 'Two-door reach-in'
    },
    sections: [
      'Installation Requirements',
      'Temperature Settings & Controls',
      'Door Gasket Maintenance',
      'Condenser Coil Cleaning',
      'Troubleshooting Guide',
      'Energy Efficiency Tips',
      'Food Safety Guidelines',
      'Electrical Diagrams',
      'Parts List & Ordering',
      'Service Schedule'
    ]
  },
  'k2e-controllers': {
    title: 'K2E Controllers Manual',
    icon: 'üéõÔ∏è',
    model: 'K2E-PRO',
    specs: {
      'Display': '4.3" color touchscreen',
      'Inputs': '8 universal inputs',
      'Outputs': '4 relay outputs',
      'Communication': 'Ethernet, WiFi, Cellular',
      'Power': '12-24V DC, 500mA',
      'Storage': 'MicroSD + Cloud',
      'Temperature Range': '-40¬∞F to 185¬∞F',
      'Data Logging': '5-second intervals'
    },
    sections: [
      'Initial Setup & Configuration',
      'Sensor Installation & Wiring',
      'Alarm Configuration',
      'Data Logging Setup',
      'Network Configuration',
      'User Interface Guide',
      'Troubleshooting & Diagnostics',
      'Firmware Updates',
      'API Documentation',
      'Compliance Features',
      'Technical Support'
    ]
  },
  'adt-systems': {
    title: 'ADT Monitoring Systems Manual',
    icon: 'üìä',
    model: 'ADT-DL500',
    specs: {
      'Data Logger': 'ADT-DL500 series',
      'Sensor Types': 'RTD, 4-20mA, Digital I/O',
      'Channels': '16 universal inputs',
      'Communication': 'Ethernet, WiFi, Cellular',
      'Power': '12-24V DC with UPS backup',
      'Storage': 'Local + Cloud backup',
      'Compliance': 'HACCP, FDA 21 CFR Part 11',
      'Data Integrity': 'Digital signatures'
    },
    sections: [
      'System Architecture Overview',
      'Data Logger Installation',
      'Sensor Configuration',
      'Network Setup & Security',
      'Compliance Configuration',
      'Data Management',
      'Alarm & Notification Setup',
      'Report Generation',
      'System Diagnostics',
      'Backup & Recovery',
      'User Management',
      'Technical Support'
    ]
  },
  'american-panel': {
    title: 'American Panel Systems Manual',
    icon: 'üè¢',
    model: 'AP-4000',
    specs: {
      'Panel Thickness': '4 inches',
      'Insulation': 'Polyurethane foam R-25',
      'Core Density': '2.5 lb/ft¬≥',
      'Exterior Finish': 'Stucco embossed',
      'Interior Finish': 'Smooth white',
      'Gasket Type': 'Dual durometer EPDM',
      'Fire Rating': 'Class A',
      'Warranty': '5 years full coverage'
    },
    sections: [
      'Pre-Installation Planning',
      'Panel Installation Procedures',
      'Gasket Installation & Alignment',
      'Door System Installation',
      'Structural Support Requirements',
      'Sealing & Weatherproofing',
      'Quality Control Inspection',
      'Maintenance Procedures',
      'Troubleshooting Guide',
      'Warranty Information',
      'Technical Support'
    ]
  }
};

const allManualData = { ...manualData, ...additionalManualData };

const currentManual = allManualData[id] || {
  title: `${id} Manual`,
  icon: 'üìñ',
  model: 'Contact Support',
  specs: {
    'Status': 'Manual in development',
    'Contact': 'support@ltckitchen.com'
  },
  sections: ['Contact technical support for manual']
};
---

<BaseLayout>
  <div class="mb-8">
    <div class="flex items-center space-x-4 mb-4">
      <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-3xl">
        {currentManual.icon}
      </div>
      <div>
        <h1 class="text-3xl font-bold">{currentManual.title}</h1>
        <p class="text-slate-600">Model: {currentManual.model}</p>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
    <div class="lg:col-span-2">
      <div class="bg-white rounded-xl shadow p-6 mb-6">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-xl font-bold">üìÑ Technical Manual</h2>
          <a class="px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 text-sm" href={pdfPath} target="_blank">
            Open PDF Manual
          </a>
        </div>
        <div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-8 text-center border-2 border-dashed border-blue-200 mb-4">
          <div class="text-4xl mb-2">üìã</div>
          <p class="text-slate-700 font-medium">Complete service and operation manual</p>
          <p class="text-sm text-slate-600 mt-2">Click "Open PDF Manual" to view the full technical documentation</p>
          <div class="mt-4 flex justify-center space-x-4 text-xs text-slate-500">
            <span>üìÑ 150+ pages</span>
            <span>üîß Detailed schematics</span>
            <span>‚ö° Troubleshooting guides</span>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-xl shadow p-6">
        <h3 class="text-xl font-bold mb-4">üìö Manual Sections</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          {currentManual.sections.map((section, index) => (
            <div class="flex items-center p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors">
              <span class="w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">
                {index + 1}
              </span>
              <span class="text-sm font-medium text-slate-800">{section}</span>
            </div>
          ))}
        </div>
      </div>

      <!-- Quick Troubleshooting Guide -->
      <div class="bg-white rounded-xl shadow p-6 mt-6">
        <h3 class="text-xl font-bold mb-4 flex items-center">
          <span class="text-red-600 mr-2">üö®</span>
          Quick Troubleshooting Guide
        </h3>
        <div class="space-y-4">
          {id === 'turbochef' && (
            <div class="space-y-3">
              <div class="p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg">
                <div class="font-semibold text-red-900">No Power / Display Dark</div>
                <ul class="text-sm text-red-800 mt-2 space-y-1">
                  <li>‚Ä¢ Check circuit breaker and power connection</li>
                  <li>‚Ä¢ Verify door is fully closed and latched</li>
                  <li>‚Ä¢ Test door interlock switches</li>
                  <li>‚Ä¢ Check fuses on control board</li>
                </ul>
              </div>
              <div class="p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg">
                <div class="font-semibold text-yellow-900">Uneven Cooking / Cold Spots</div>
                <ul class="text-sm text-yellow-800 mt-2 space-y-1">
                  <li>‚Ä¢ Clean magnetron waveguide</li>
                  <li>‚Ä¢ Check convection fan operation</li>
                  <li>‚Ä¢ Verify temperature sensor calibration</li>
                  <li>‚Ä¢ Inspect air filter for blockages</li>
                </ul>
              </div>
              <div class="p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg">
                <div class="font-semibold text-blue-900">Error Codes E1-E5</div>
                <ul class="text-sm text-blue-800 mt-2 space-y-1">
                  <li>‚Ä¢ E1: Temperature sensor fault</li>
                  <li>‚Ä¢ E2: Magnetron overheating</li>
                  <li>‚Ä¢ E3: Door switch malfunction</li>
                  <li>‚Ä¢ E4: Control board communication error</li>
                </ul>
              </div>
            </div>
          )}
          {id === 'hoshizaki' && (
            <div class="space-y-3">
              <div class="p-4 bg-red-50 border-l-4 border-red-500 rounded-r-lg">
                <div class="font-semibold text-red-900">No Ice Production</div>
                <ul class="text-sm text-red-800 mt-2 space-y-1">
                  <li>‚Ä¢ Check water supply and pressure</li>
                  <li>‚Ä¢ Clean condenser coils</li>
                  <li>‚Ä¢ Verify bin switch operation</li>
                  <li>‚Ä¢ Test hot gas valve operation</li>
                </ul>
              </div>
              <div class="p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg">
                <div class="font-semibold text-yellow-900">Ice Won't Harvest</div>
                <ul class="text-sm text-yellow-800 mt-2 space-y-1">
                  <li>‚Ä¢ Check cube thickness control</li>
                  <li>‚Ä¢ Test harvest assist solenoid</li>
                  <li>‚Ä¢ Verify water temperature (70¬∞F max)</li>
                  <li>‚Ä¢ Clean water distribution system</li>
                </ul>
              </div>
            </div>
          )}
        </div>
      </div>
    </div>

    <div class="space-y-6">
      <div class="bg-white rounded-xl shadow p-6">
        <h3 class="text-lg font-semibold mb-4">‚öôÔ∏è Specifications</h3>
        <div class="space-y-3">
          {Object.entries(currentManual.specs).map(([key, value]) => (
            <div class="flex justify-between items-start">
              <span class="text-sm font-medium text-slate-700 flex-shrink-0 mr-2">{key}:</span>
              <span class="text-sm text-slate-900 text-right">{value}</span>
            </div>
          ))}
        </div>
      </div>

      <div class="bg-white rounded-xl shadow p-6">
        <h3 class="text-lg font-semibold mb-4">üîó Quick Links</h3>
        <div class="space-y-2">
          <a href={`/parts/${id}`} class="block w-full px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm text-center">
            üõ† View Parts
          </a>
          <a href={`/${id}#troubleshooting`} class="block w-full px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm text-center">
            üö® Troubleshooting
          </a>
          <a href={`/${id}`} class="block w-full px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm text-center">
            üìä Live Status
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 border border-orange-200">
    <h3 class="text-lg font-semibold text-slate-900 mb-4">üìû Technical Support</h3>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
      <div>
        <div class="text-2xl mb-2">üÜò</div>
        <div class="font-medium">Emergency Service</div>
        <div class="text-sm text-slate-600">1-800-SERVICE</div>
      </div>
      <div>
        <div class="text-2xl mb-2">üí¨</div>
        <div class="font-medium">Technical Help</div>
        <div class="text-sm text-slate-600">support@ltckitchen.com</div>
      </div>
      <div>
        <div class="text-2xl mb-2">üìñ</div>
        <div class="font-medium">Training Videos</div>
        <div class="text-sm text-slate-600">training.ltckitchen.com</div>
      </div>
    </div>
  </div>
</BaseLayout>


