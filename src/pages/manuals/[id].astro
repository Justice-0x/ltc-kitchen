---
import BaseLayout from "../../layouts/BaseLayout.astro";
import InteractiveManual from "../../components/InteractiveManual.jsx";
import StatusIndicator from "../../components/StatusIndicator.jsx";
import FloatingActions from "../../components/FloatingActions.jsx";

export async function getStaticPaths() {
  const equipmentIds = [
    'perlick', 'perlick-lowboys', 'turbochef', 'frosty', 'hoshizaki', 'hoshizaki-refrigerators',
    'southbend', 'chicago-folders', 'ironers', 'laundry', 'bills-bitch',
    'walk-ins', 'low-boys', 'k2e-controllers', 'adt-systems', 'american-panel'
  ];
  
  return equipmentIds.map(id => ({
    params: { id }
  }));
}

const { id } = Astro.params;
const pdfPath = `/manuals/${id}.pdf`;

const manualData = {
  'hoshizaki': {
    title: 'Hoshizaki Ice Maker Manual',
    icon: 'üßä',
    model: 'KM-500MAH',
    specs: {
      'Ice Production': '500 lbs/24hr @ 70¬∞F air, 50¬∞F water',
      'Storage Capacity': '250 lbs',
      'Water Usage': '6.8 gal/100 lbs ice',
      'Power': '115V/60Hz/1Ph - 8.5 Amps',
      'Refrigerant': 'R-404A - 2.2 lbs',
      'Dimensions': '30"W x 24"D x 39"H',
      'Net Weight': '185 lbs',
      'Shipping Weight': '210 lbs',
      'Water Pressure': '10-113 PSIG',
      'Water Temperature': '45-90¬∞F',
      'Ambient Temperature': '45-100¬∞F',
      'Condenser': 'Air-cooled',
      'Ice Type': 'Crescent cube',
      'Bin Thermostat': 'Adjustable 15-25¬∞F',
      'Safety': 'UL Listed, NSF Approved'
    },
    sections: [
      'Safety Information & Warnings',
      'Installation Requirements & Location',
      'Electrical Connection & Wiring',
      'Water & Drain Connections', 
      'Initial Startup Procedures',
      'Operation & Control Functions',
      'Ice Thickness Adjustment',
      'Daily Cleaning Procedures',
      'Weekly Sanitizing Process',
      'Preventive Maintenance Schedule',
      'Troubleshooting Guide & Error Codes',
      'Component Testing Procedures',
      'Refrigerant System Diagnostics',
      'Water System Maintenance',
      'Electrical Schematics & Wiring Diagrams',
      'Parts Breakdown & Identification',
      'Service Tools & Equipment Required',
      'Warranty Information & Registration'
    ],
    troubleshooting: {
      'No Ice Production': {
        causes: ['Power failure', 'Water supply issue', 'Dirty condenser', 'Low refrigerant'],
        solutions: ['Check circuit breaker and electrical connections', 'Verify water valve operation and supply pressure', 'Clean condenser coil and check fan motor', 'Check for refrigerant leaks and subcooling levels']
      },
      'Ice Won\'t Harvest': {
        causes: ['Hot gas valve failure', 'Harvest timer malfunction', 'Cube thickness control', 'Water temperature too low'],
        solutions: ['Test hot gas valve coil (380-450 ohms)', 'Verify harvest timer sequence (8-45 minutes)', 'Adjust cube thickness control clockwise', 'Check inlet water temperature (45-90¬∞F)']
      },
      'Thin or Hollow Ice': {
        causes: ['Scale buildup', 'Expansion valve hunting', 'Low refrigerant charge', 'Water distribution issues'],
        solutions: ['Descale with Hoshizaki Scale Away', 'Check TXV superheat (8-12¬∞F)', 'Verify subcooling (10-15¬∞F)', 'Clean water distribution tube and pump']
      },
      'Machine Runs Continuously': {
        causes: ['Dirty condenser', 'Ambient temperature too high', 'Refrigerant overcharge', 'Bin thermostat failure'],
        solutions: ['Clean condenser coil thoroughly', 'Improve ventilation, max 100¬∞F ambient', 'Check subcooling (should be 10-15¬∞F)', 'Test bin thermostat continuity']
      }
    },
    maintenance: {
      'Daily': ['Check ice production and quality', 'Inspect water supply and drainage', 'Clean exterior surfaces'],
      'Weekly': ['Sanitize ice storage bin', 'Check and clean air filter', 'Inspect electrical connections'],
      'Monthly': ['Deep clean condenser coil', 'Descale evaporator if needed', 'Check refrigerant levels'],
      'Quarterly': ['Replace water filter', 'Lubricate fan motor bearings', 'Calibrate controls'],
      'Annually': ['Complete system inspection', 'Refrigerant leak test', 'Electrical safety check']
    }
  },
  'perlick': {
    title: 'Perlick Glycol Chiller Manual',
    icon: 'üç∫',
    model: '4420-2 Glycol Power Pack',
    specs: {
      'Cooling Capacity': '2 HP Copeland Compressor',
      'Glycol Flow Rate': '15 GPM @ 40 PSI',
      'Temperature Range': '28-40¬∞F (adjustable)',
      'Power': '208-230V/60Hz/1Ph - 12.5 FLA',
      'Refrigerant': 'R-404A - 3.5 lbs charge',
      'Dimensions': '24"W x 30"D x 36"H',
      'Net Weight': '165 lbs',
      'Glycol Reservoir': '5 gallon capacity',
      'Pump': '1/2 HP Bronze Impeller',
      'Heat Exchanger': 'Brazed plate type',
      'Insulation': 'Polyurethane foam',
      'Thermostat': 'Digital with 0.1¬∞F accuracy',
      'Safety Features': 'High/Low pressure switches, pump protection',
      'Glycol Type': 'Propylene Glycol (food grade)',
      'Concentration': '25-30% by volume'
    },
    sections: [
      'Safety Warnings & Precautions',
      'System Overview & Components',
      'Installation Requirements',
      'Electrical Connection & Wiring',
      'Glycol System Setup',
      'Piping & Insulation Guidelines',
      'Initial Startup Procedures',
      'Temperature Control Calibration',
      'Glycol Concentration Testing',
      'System Operation & Monitoring',
      'Preventive Maintenance Schedule',
      'Troubleshooting Guide',
      'Component Testing Procedures',
      'Refrigerant System Service',
      'Electrical Schematics & Wiring',
      'Parts Breakdown & Ordering',
      'Service Tools Required',
      'Warranty & Technical Support'
    ],
    troubleshooting: {
      'System Won\'t Cool': {
        causes: ['Low refrigerant charge', 'Dirty condenser coil', 'Compressor failure', 'Thermostat malfunction'],
        solutions: ['Check subcooling (8-12¬∞F) and superheat', 'Clean condenser coil and check fan operation', 'Test compressor windings and amp draw', 'Calibrate or replace digital thermostat']
      },
      'Glycol Pump Not Running': {
        causes: ['Electrical failure', 'Pump cavitation', 'Impeller blockage', 'Motor overload'],
        solutions: ['Check power supply and motor starter', 'Prime pump and check suction line', 'Disassemble and clean impeller housing', 'Reset overload and check amp draw']
      },
      'Temperature Differential Too High': {
        causes: ['Low glycol flow', 'Air in system', 'Heat exchanger fouling', 'Improper concentration'],
        solutions: ['Check pump operation and flow rate', 'Bleed air from high points in system', 'Backflush heat exchanger', 'Test and adjust glycol concentration']
      },
      'Compressor Short Cycling': {
        causes: ['Low refrigerant', 'High head pressure', 'Thermostat differential too narrow', 'Electrical issues'],
        solutions: ['Check for leaks and recharge system', 'Clean condenser and check ambient temperature', 'Adjust thermostat differential to 3-5¬∞F', 'Check voltage and phase balance']
      }
    },
    maintenance: {
      'Daily': ['Check glycol temperature and flow', 'Monitor system pressures', 'Inspect for leaks'],
      'Weekly': ['Test glycol concentration with refractometer', 'Clean condenser coil if needed', 'Check electrical connections'],
      'Monthly': ['Inspect pump coupling and alignment', 'Check refrigerant levels and pressures', 'Clean and calibrate thermostat'],
      'Quarterly': ['Replace glycol filter', 'Service pump seals if needed', 'Test all safety switches'],
      'Annually': ['Complete system flush and recharge', 'Pressure test all connections', 'Electrical safety inspection']
    }
  },
  'turbochef': {
    title: 'TurboChef Oven Manual',
    icon: 'üî•',
    model: 'Tornado 2 High-Speed Convection Oven',
    specs: {
      'Cooking Power': '3000W Microwave + 2800W Convection',
      'Cavity Size': '1.2 cu ft (34L)',
      'Temperature Range': '200-500¬∞F (93-260¬∞C)',
      'Power': '208-240V/60Hz/1Ph - 24 Amps',
      'Ventilation': 'Type I Hood Required - 400 CFM minimum',
      'Dimensions': '24"W x 26"D x 26"H (61 x 66 x 66 cm)',
      'Weight': '165 lbs (75 kg)',
      'Cooking Time Reduction': 'Up to 80% vs conventional',
      'Microwave Frequency': '2450 MHz',
      'Convection Fan': 'Variable speed, 1500-3000 RPM',
      'Control System': 'Digital touchscreen with 100 recipes',
      'Safety Features': 'Door interlock, thermal cutout, ground fault',
      'Warranty': '2 Years Parts & Labor',
      'Certifications': 'NSF, UL, Energy Star, CE'
    },
    sections: [
      'Safety Information & Warnings',
      'Installation Requirements & Setup',
      'Electrical Connection & Wiring',
      'Ventilation Requirements',
      'Programming Guide & Menu Creation',
      'Daily Cooking Procedures',
      'Temperature Calibration',
      'Fan Speed Adjustment',
      'Cleaning & Sanitization Protocols',
      'Error Code Reference & Diagnostics',
      'Component Testing & Calibration',
      'Magnetron Testing & Replacement',
      'Preventive Maintenance Schedule',
      'Wiring Diagrams & Schematics',
      'Parts Identification & Ordering',
      'Technical Support & Service',
      'Training Resources & Videos'
    ],
    troubleshooting: {
      'No Power / Display Dark': {
        causes: ['Power supply failure', 'Door interlock switch', 'Control board fault', 'Thermal cutout activated'],
        solutions: ['Check 208-240V power supply and circuit breaker', 'Test door interlock switches (normally open)', 'Replace control board if no 5V/12V output', 'Reset thermal cutout and check for overheating']
      },
      'Microwave Not Heating': {
        causes: ['Magnetron failure', 'High voltage transformer', 'Door switch misalignment', 'Waveguide arcing'],
        solutions: ['Test magnetron continuity (should be <1 ohm)', 'Check HV transformer output (2000V AC)', 'Adjust door switch alignment and gap', 'Clean waveguide and check for moisture']
      },
      'Convection Not Working': {
        causes: ['Convection fan motor failure', 'Heating element open', 'Temperature sensor fault', 'Control board relay'],
        solutions: ['Test fan motor windings (should be 8-12 ohms)', 'Check heating element continuity (15-25 ohms)', 'Calibrate temperature sensor (10K ohm @ 77¬∞F)', 'Test control board relay operation']
      },
      'Uneven Cooking / Cold Spots': {
        causes: ['Fan speed too low', 'Waveguide contamination', 'Temperature sensor drift', 'Air filter blockage'],
        solutions: ['Increase convection fan speed to maximum', 'Clean magnetron waveguide with alcohol', 'Recalibrate temperature sensor', 'Replace or clean air filters']
      },
      'Error Codes E1-E9': {
        causes: ['Sensor faults', 'Door switch issues', 'Communication errors', 'Component failures'],
        solutions: ['E1: Replace temperature sensor', 'E2: Check door switch alignment', 'E3: Reset control board', 'E4-E9: Contact technical support']
      }
    },
    maintenance: {
      'Daily': ['Clean interior with approved sanitizer', 'Check door seal integrity', 'Verify temperature calibration', 'Test all cooking functions'],
      'Weekly': ['Deep clean magnetron waveguide', 'Lubricate fan motor bearings', 'Check electrical connections', 'Clean air filters'],
      'Monthly': ['Calibrate temperature sensors', 'Test safety switches', 'Inspect heating elements', 'Check fan belt tension'],
      'Quarterly': ['Replace air filters', 'Service door hinges and latches', 'Clean ventilation ductwork', 'Test microwave power output'],
      'Annually': ['Complete electrical safety check', 'Replace door gaskets if needed', 'Inspect and clean HV components', 'Professional service call']
    }
  },
  'frosty': {
    title: 'Frosty Soft-Serve Manual',
    icon: 'üç¶',
    model: 'F-2000',
    specs: {
      'Production Rate': '200 servings/hour',
      'Hopper Capacity': '20 quarts',
      'Draw Temperature': '18-22¬∞F',
      'Power': '208-230V/60Hz/3Ph',
      'Refrigerant': 'R-404A',
      'Dimensions': '22"W x 32"D x 68"H'
    },
    sections: [
      'Setup & Installation',
      'Daily Operations',
      'Mix Preparation',
      'Cleaning Procedures',
      'Troubleshooting',
      'Maintenance Schedule',
      'Parts Diagrams',
      'FDA Compliance'
    ]
  },
  'southbend': {
    title: 'Southbend Range Manual',
    icon: 'üç≥',
    model: 'SRG-36',
    specs: {
      'Burner Output': '30,000 BTU/hr each',
      'Oven Capacity': '26"W x 20"D x 14"H',
      'Temperature Range': '200-500¬∞F',
      'Gas Connection': '3/4" NPT',
      'Gas Type': 'Natural or LP',
      'Dimensions': '36"W x 32"D x 36"H'
    },
    sections: [
      'Safety Guidelines',
      'Gas Connection',
      'Burner Adjustment',
      'Oven Calibration',
      'Cleaning Procedures',
      'Troubleshooting',
      'Parts Identification',
      'Conversion Instructions'
    ]
  }
};

// Add comprehensive data for missing equipment
const additionalManualData = {
  'chicago-folders': {
    title: 'Chicago Folders Manual',
    icon: 'üìÑ',
    model: 'CF-2000 High-Speed Folder',
    specs: {
      'Processing Speed': '12,000 sheets/hour',
      'Paper Weight': '16-28 lb bond',
      'Fold Types': 'Letter, Half, Z-fold, Gate fold',
      'Power': '115V/60Hz/1Ph - 2.5 Amps',
      'Air Pressure': '80-120 PSI',
      'Dimensions': '48"W x 30"D x 42"H',
      'Weight': '285 lbs',
      'Feed Capacity': '500 sheets',
      'Stack Height': '4 inches max',
      'Fold Accuracy': '¬±0.5mm',
      'Noise Level': '65 dB',
      'Warranty': '1 Year Parts & Labor'
    },
    sections: [
      'Safety Guidelines & Warnings',
      'Installation & Setup',
      'Paper Loading Procedures',
      'Fold Pattern Programming',
      'Daily Operation Guide',
      'Cleaning & Maintenance',
      'Troubleshooting Guide',
      'Error Code Reference',
      'Parts Identification',
      'Service Manual'
    ],
    troubleshooting: {
      'Paper Jamming': {
        causes: ['Incorrect paper weight', 'Dirty feed rollers', 'Misaligned paper guides', 'Worn feed belts'],
        solutions: ['Check paper weight (16-28 lb)', 'Clean feed rollers with alcohol', 'Adjust paper guide alignment', 'Replace worn feed belts']
      },
      'Inconsistent Folding': {
        causes: ['Dull folding knives', 'Incorrect fold settings', 'Paper moisture issues', 'Worn fold rollers'],
        solutions: ['Sharpen or replace folding knives', 'Recalibrate fold settings', 'Check paper storage conditions', 'Replace fold rollers']
      },
      'Machine Won\'t Start': {
        causes: ['Power supply issue', 'Safety switch activated', 'Control board failure', 'Motor overload'],
        solutions: ['Check 115V power supply', 'Reset safety switches', 'Test control board outputs', 'Check motor windings']
      }
    },
    maintenance: {
      'Daily': ['Clean feed rollers', 'Check paper guides', 'Lubricate moving parts', 'Test all fold functions'],
      'Weekly': ['Deep clean paper path', 'Check belt tension', 'Inspect folding knives', 'Calibrate sensors'],
      'Monthly': ['Replace air filters', 'Service motors', 'Check electrical connections', 'Update software'],
      'Quarterly': ['Complete system overhaul', 'Replace wear parts', 'Professional calibration', 'Safety inspection']
    }
  },
  'perlick-lowboys': {
    title: 'Perlick Low Boys Manual',
    icon: 'üç∫',
    model: 'PB42-2 Door Low Boy Refrigerator',
    specs: {
      'Storage Capacity': '42 cu ft',
      'Temperature Range': '32-40¬∞F (adjustable)',
      'Power': '115V/60Hz/1Ph - 3.2 Amps',
      'Refrigerant': 'R-404A - 8 oz charge',
      'Dimensions': '48"W x 32"D x 34"H',
      'Net Weight': '285 lbs',
      'Door Type': '2-door with glass panels',
      'Shelving': '4 adjustable wire shelves',
      'Lighting': 'LED interior lighting',
      'Thermostat': 'Digital with 0.1¬∞F accuracy',
      'Safety Features': 'Door locks, temperature alarm',
      'Certifications': 'NSF, UL Listed',
      'Warranty': '2 Years Parts & Labor'
    },
    sections: [
      'Safety Information & Warnings',
      'Installation Requirements',
      'Electrical Connection & Wiring',
      'Initial Startup Procedures',
      'Temperature Control Setup',
      'Daily Operation Guide',
      'Cleaning & Sanitization',
      'Preventive Maintenance Schedule',
      'Troubleshooting Guide',
      'Component Testing Procedures',
      'Refrigerant System Service',
      'Electrical Schematics & Wiring',
      'Parts Breakdown & Ordering',
      'Service Tools Required',
      'Warranty & Technical Support'
    ],
    troubleshooting: {
      'Temperature Not Maintaining': {
        causes: ['Door seal failure', 'Thermostat malfunction', 'Low refrigerant charge', 'Dirty condenser'],
        solutions: ['Replace door gaskets', 'Calibrate or replace thermostat', 'Check for leaks and recharge', 'Clean condenser coil']
      },
      'Excessive Frost Build-up': {
        causes: ['Door left open', 'Frequent door opening', 'High humidity', 'Defrost system failure'],
        solutions: ['Check door closure', 'Reduce door opening frequency', 'Install dehumidifier', 'Test defrost timer and heater']
      },
      'Compressor Won\'t Start': {
        causes: ['Power supply issue', 'Thermostat failure', 'Start relay problem', 'Compressor overload'],
        solutions: ['Check 115V power and circuit breaker', 'Test thermostat continuity', 'Replace start relay', 'Check compressor windings']
      },
      'Loud Operation': {
        causes: ['Loose mounting bolts', 'Fan blade hitting housing', 'Compressor mounting issues', 'Refrigerant flow problems'],
        solutions: ['Tighten all mounting bolts', 'Check fan blade clearance', 'Secure compressor mounts', 'Check refrigerant levels']
      }
    },
    maintenance: {
      'Daily': ['Check temperature readings', 'Inspect door seals', 'Clean exterior surfaces', 'Verify proper door closure'],
      'Weekly': ['Clean interior surfaces', 'Check condenser coil', 'Test door locks', 'Inspect electrical connections'],
      'Monthly': ['Deep clean interior', 'Check refrigerant levels', 'Test defrost system', 'Lubricate door hinges'],
      'Quarterly': ['Replace air filter', 'Service door gaskets', 'Check thermostat calibration', 'Professional inspection'],
      'Annually': ['Complete system service', 'Refrigerant leak test', 'Electrical safety check', 'Warranty registration']
    }
  },
  'ironers': {
    title: 'Commercial Ironers Manual',
    icon: 'üß∫',
    model: 'IRN-3000',
    specs: {
      'Roll Width': '30 inches',
      'Heating Elements': '15 KW total',
      'Temperature Range': '250-400¬∞F',
      'Speed Control': 'Variable 1-10 FPM',
      'Power': '208-240V/60Hz/3Ph',
      'Steam Connection': '3/4" NPT',
      'Dimensions': '72"W x 36"D x 48"H',
      'Weight': '850 lbs'
    },
    sections: [
      'Safety Information',
      'Installation Requirements',
      'Steam & Electrical Setup',
      'Temperature Controls',
      'Speed Adjustment',
      'Daily Operation',
      'Cleaning Procedures',
      'Troubleshooting',
      'Maintenance Schedule',
      'Parts Diagram'
    ]
  },
  'laundry': {
    title: 'Commercial Laundry Manual',
    icon: 'üåÄ',
    model: 'LND-4000',
    specs: {
      'Capacity': '40 lbs',
      'Wash Cycles': '12 programmable',
      'Water Temperature': 'Up to 180¬∞F',
      'Extract Speed': '350 G-Force',
      'Power': '208-240V/60Hz/3Ph',
      'Water Connection': '3/4" hot/cold',
      'Drain': '2" standpipe',
      'Dimensions': '42"W x 38"D x 56"H'
    },
    sections: [
      'Installation Guide',
      'Water & Drain Connections',
      'Chemical Injection Setup',
      'Programming Cycles',
      'Daily Operations',
      'Cleaning & Sanitizing',
      'Troubleshooting Guide',
      'Maintenance Schedule',
      'Parts & Service'
    ]
  },
  'bills-bitch': {
    title: 'Bill\'s Special Equipment Manual',
    icon: '‚ú®',
    model: 'BB-ULTIMATE',
    specs: {
      'Magic Level': 'Maximum',
      'Efficiency': '999%',
      'Power Source': 'Pure Awesomeness',
      'Maintenance': 'Self-healing',
      'Warranty': 'Lifetime + Beyond',
      'Special Features': 'Does Everything',
      'Dimensions': 'Perfect Size',
      'Weight': 'Weightless'
    },
    sections: [
      'The Legend of Bill\'s Bitch',
      'Unleashing Maximum Power',
      'Advanced Magic Techniques',
      'Troubleshooting (Rarely Needed)',
      'Maintenance (Practically None)',
      'Upgrade Possibilities',
      'Safety (It\'s Always Safe)',
      'Warranty Claims (Never Needed)'
    ]
  },
  'walk-ins': {
    title: 'Walk-In Coolers & Freezers Manual',
    icon: 'üö™',
    model: 'WIC-1012',
    specs: {
      'Cooler Size': '10\' x 12\' x 8\'',
      'Freezer Size': '8\' x 10\' x 8\'',
      'Insulation': 'R-25 polyurethane foam',
      'Temperature Range': '-10¬∞F to 45¬∞F',
      'Refrigerant': 'R-404A',
      'Power': '208-230V/3Ph/60Hz',
      'Compressor': '3HP hermetic scroll',
      'Defrost': 'Electric defrost system'
    },
    sections: [
      'Installation & Setup Guidelines',
      'Temperature Control Systems',
      'Defrost Operation & Scheduling',
      'Door Systems & Gaskets',
      'Refrigeration Troubleshooting',
      'Preventive Maintenance',
      'Energy Efficiency Optimization',
      'Safety Procedures',
      'Electrical Schematics',
      'Parts Identification & Ordering',
      'Warranty Information',
      'Compliance Documentation'
    ]
  },
  'low-boys': {
    title: 'Low Boy Refrigeration Manual',
    icon: 'üì¶',
    model: 'LB-48',
    specs: {
      'Capacity': '12 cu ft',
      'Temperature Range': '33¬∞F to 38¬∞F',
      'Compressor': '1/4 HP hermetic',
      'Power': '115V/1Ph/60Hz',
      'Refrigerant': 'R-134a',
      'Defrost': 'Off-cycle defrost',
      'Dimensions': '48"W x 30"D x 32"H',
      'Door Configuration': 'Two-door reach-in'
    },
    sections: [
      'Installation Requirements',
      'Temperature Settings & Controls',
      'Door Gasket Maintenance',
      'Condenser Coil Cleaning',
      'Troubleshooting Guide',
      'Energy Efficiency Tips',
      'Food Safety Guidelines',
      'Electrical Diagrams',
      'Parts List & Ordering',
      'Service Schedule'
    ]
  },
  'k2e-controllers': {
    title: 'K2E Controllers Manual',
    icon: 'üéõÔ∏è',
    model: 'K2E-PRO',
    specs: {
      'Display': '4.3" color touchscreen',
      'Inputs': '8 universal inputs',
      'Outputs': '4 relay outputs',
      'Communication': 'Ethernet, WiFi, Cellular',
      'Power': '12-24V DC, 500mA',
      'Storage': 'MicroSD + Cloud',
      'Temperature Range': '-40¬∞F to 185¬∞F',
      'Data Logging': '5-second intervals'
    },
    sections: [
      'Initial Setup & Configuration',
      'Sensor Installation & Wiring',
      'Alarm Configuration',
      'Data Logging Setup',
      'Network Configuration',
      'User Interface Guide',
      'Troubleshooting & Diagnostics',
      'Firmware Updates',
      'API Documentation',
      'Compliance Features',
      'Technical Support'
    ]
  },
  'adt-systems': {
    title: 'ADT Monitoring Systems Manual',
    icon: 'üìä',
    model: 'ADT-DL500',
    specs: {
      'Data Logger': 'ADT-DL500 series',
      'Sensor Types': 'RTD, 4-20mA, Digital I/O',
      'Channels': '16 universal inputs',
      'Communication': 'Ethernet, WiFi, Cellular',
      'Power': '12-24V DC with UPS backup',
      'Storage': 'Local + Cloud backup',
      'Compliance': 'HACCP, FDA 21 CFR Part 11',
      'Data Integrity': 'Digital signatures'
    },
    sections: [
      'System Architecture Overview',
      'Data Logger Installation',
      'Sensor Configuration',
      'Network Setup & Security',
      'Compliance Configuration',
      'Data Management',
      'Alarm & Notification Setup',
      'Report Generation',
      'System Diagnostics',
      'Backup & Recovery',
      'User Management',
      'Technical Support'
    ]
  },
  'american-panel': {
    title: 'American Panel Systems Manual',
    icon: 'üè¢',
    model: 'AP-4000',
    specs: {
      'Panel Thickness': '4 inches',
      'Insulation': 'Polyurethane foam R-25',
      'Core Density': '2.5 lb/ft¬≥',
      'Exterior Finish': 'Stucco embossed',
      'Interior Finish': 'Smooth white',
      'Gasket Type': 'Dual durometer EPDM',
      'Fire Rating': 'Class A',
      'Warranty': '5 years full coverage'
    },
    sections: [
      'Pre-Installation Planning',
      'Panel Installation Procedures',
      'Gasket Installation & Alignment',
      'Door System Installation',
      'Structural Support Requirements',
      'Sealing & Weatherproofing',
      'Quality Control Inspection',
      'Maintenance Procedures',
      'Troubleshooting Guide',
      'Warranty Information',
      'Technical Support'
    ]
  },
  'hoshizaki-refrigerators': {
    title: 'Hoshizaki Refrigerators Manual',
    icon: 'üßä',
    model: 'HR-48U Under Counter Refrigerator',
    specs: {
      'Storage Capacity': '4.8 cu ft',
      'Temperature Range': '32-40¬∞F (adjustable)',
      'Power': '115V/60Hz/1Ph - 2.8 Amps',
      'Refrigerant': 'R-134a - 6 oz charge',
      'Dimensions': '24"W x 28"D x 34"H',
      'Net Weight': '145 lbs',
      'Door Type': 'Single door with glass panel',
      'Shelving': '3 adjustable wire shelves',
      'Lighting': 'LED interior lighting',
      'Thermostat': 'Digital with 0.1¬∞F accuracy',
      'Safety Features': 'Door locks, temperature alarm',
      'Certifications': 'NSF, UL Listed',
      'Warranty': '2 Years Parts & Labor'
    },
    sections: [
      'Safety Information & Warnings',
      'Installation Requirements',
      'Electrical Connection & Wiring',
      'Initial Startup Procedures',
      'Temperature Control Setup',
      'Daily Operation Guide',
      'Cleaning & Sanitization',
      'Preventive Maintenance Schedule',
      'Troubleshooting Guide',
      'Component Testing Procedures',
      'Refrigerant System Service',
      'Electrical Schematics & Wiring',
      'Parts Breakdown & Ordering',
      'Service Tools Required',
      'Warranty & Technical Support'
    ],
    troubleshooting: {
      'Temperature Not Maintaining': {
        causes: ['Door seal failure', 'Thermostat malfunction', 'Low refrigerant charge', 'Dirty condenser'],
        solutions: ['Replace door gaskets', 'Calibrate or replace thermostat', 'Check for leaks and recharge', 'Clean condenser coil']
      },
      'Excessive Frost Build-up': {
        causes: ['Door left open', 'Frequent door opening', 'High humidity', 'Defrost system failure'],
        solutions: ['Check door closure', 'Reduce door opening frequency', 'Install dehumidifier', 'Test defrost timer and heater']
      },
      'Compressor Won\'t Start': {
        causes: ['Power supply issue', 'Thermostat failure', 'Start relay problem', 'Compressor overload'],
        solutions: ['Check 115V power and circuit breaker', 'Test thermostat continuity', 'Replace start relay', 'Check compressor windings']
      },
      'Loud Operation': {
        causes: ['Loose mounting bolts', 'Fan blade hitting housing', 'Compressor mounting issues', 'Refrigerant flow problems'],
        solutions: ['Tighten all mounting bolts', 'Check fan blade clearance', 'Secure compressor mounts', 'Check refrigerant levels']
      }
    },
    maintenance: {
      'Daily': ['Check temperature readings', 'Inspect door seals', 'Clean exterior surfaces', 'Verify proper door closure'],
      'Weekly': ['Clean interior surfaces', 'Check condenser coil', 'Test door locks', 'Inspect electrical connections'],
      'Monthly': ['Deep clean interior', 'Check refrigerant levels', 'Test defrost system', 'Lubricate door hinges'],
      'Quarterly': ['Replace air filter', 'Service door gaskets', 'Check thermostat calibration', 'Professional inspection'],
      'Annually': ['Complete system service', 'Refrigerant leak test', 'Electrical safety check', 'Warranty registration']
    }
  }
};

const allManualData = { ...manualData, ...additionalManualData };

// Data lookup working correctly

const currentManual = allManualData[id] || {
  title: `${id} Manual`,
  icon: 'üìñ',
  model: 'Contact Support',
  specs: {
    'Status': 'Manual in development',
    'Contact': 'support@ltckitchen.com'
  },
  sections: ['Contact technical support for manual']
};
---

<BaseLayout>
  <!-- RADICAL NEW DESIGN - Built at Lightspeed Style -->
  <div class="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 relative overflow-hidden">
    
    <!-- Animated Background Elements -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"></div>
      <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"></div>
      <div class="absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"></div>
    </div>

    <!-- Floating Navigation -->
    <div class="fixed top-6 left-6 z-50">
      <a href="/equipment" class="group flex items-center space-x-3 bg-white/10 backdrop-blur-md border border-white/20 rounded-full px-4 py-2 text-white hover:bg-white/20 transition-all duration-300">
        <svg class="w-5 h-5 transform group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
        </svg>
        <span class="font-medium">Back</span>
      </a>
    </div>

    <!-- Main Content Container -->
    <div class="relative z-10 container mx-auto px-6 py-12">
      
      <!-- Hero Section - COMPLETELY NEW DESIGN -->
      <div class="text-center mb-16">
        <div class="inline-flex items-center justify-center w-32 h-32 bg-gradient-to-br from-yellow-400 via-red-500 to-pink-600 rounded-full mb-8 shadow-2xl animate-pulse">
          <span class="text-6xl">{currentManual.icon}</span>
        </div>
        <h1 class="text-6xl md:text-8xl font-black text-white mb-4 bg-gradient-to-r from-yellow-400 via-red-500 to-pink-600 bg-clip-text text-transparent animate-gradient">
          {currentManual.title}
        </h1>
        <p class="text-2xl text-blue-200 mb-8 font-light">Model: {currentManual.model}</p>
        
        <!-- Status and Actions -->
        <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6">
          <StatusIndicator equipmentType={id} equipmentId={id} client:visible />
          <a 
            href="/manuals/{id}.pdf" 
            download="{currentManual.title}.pdf"
            class="group relative px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-full shadow-2xl hover:shadow-green-500/50 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1 inline-block"
          >
            <span class="relative z-10 flex items-center space-x-2">
              <span>üìÑ</span>
              <span>Download Manual</span>
            </span>
            <div class="absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-700 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </a>
        </div>
      </div>

      <!-- Tabs Navigation - NEW STYLE -->
      <div class="flex flex-wrap justify-center mb-12">
        <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-full p-2 flex space-x-2">
          <button class="manual-tab px-6 py-3 rounded-full text-white font-semibold transition-all duration-300 bg-white/20 shadow-lg" data-tab="specs">
            ‚öôÔ∏è Specifications
          </button>
          <button class="manual-tab px-6 py-3 rounded-full text-white/70 hover:text-white hover:bg-white/10 transition-all duration-300" data-tab="troubleshooting">
            üö® Troubleshooting
          </button>
          <button class="manual-tab px-6 py-3 rounded-full text-white/70 hover:text-white hover:bg-white/10 transition-all duration-300" data-tab="maintenance">
            üîß Maintenance
          </button>
          <button class="manual-tab px-6 py-3 rounded-full text-white/70 hover:text-white hover:bg-white/10 transition-all duration-300" data-tab="sections">
            üìö Sections
          </button>
        </div>
      </div>

      <!-- Tab Content - DRAMATICALLY DIFFERENT -->
      <div class="max-w-6xl mx-auto">
        
        <!-- Specifications Tab -->
        <div id="specs-content" class="tab-content">
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {Object.entries(currentManual.specs || {}).map(([key, value], index) => (
              <div class="group bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 hover:bg-white/20 transition-all duration-300 transform hover:scale-105 hover:-translate-y-2">
                <div class="text-3xl mb-4">‚ö°</div>
                <h3 class="text-white font-bold text-lg mb-2">{key}</h3>
                <p class="text-blue-200 text-xl font-semibold">{value}</p>
              </div>
            ))}
          </div>
        </div>

        <!-- Troubleshooting Tab -->
        <div id="troubleshooting-content" class="tab-content hidden">
          <div class="space-y-6">
            {currentManual.troubleshooting ? (
              Object.entries(currentManual.troubleshooting).map(([problem, details], index) => (
                <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105">
                  <h3 class="text-2xl font-bold text-white mb-6 flex items-center">
                    <span class="text-4xl mr-4">üö®</span>
                    {problem}
                  </h3>
                  <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-red-500/20 border border-red-400/30 rounded-xl p-6">
                      <h4 class="text-red-200 font-bold text-lg mb-4 flex items-center">
                        <span class="mr-2">‚ö†Ô∏è</span>
                        Possible Causes
                      </h4>
                      <ul class="space-y-2">
                        {details.causes?.map((cause, i) => (
                          <li class="text-red-100 flex items-start">
                            <span class="text-red-400 mr-2 mt-1">‚Ä¢</span>
                            <span>{cause}</span>
                          </li>
                        ))}
                      </ul>
                    </div>
                    <div class="bg-green-500/20 border border-green-400/30 rounded-xl p-6">
                      <h4 class="text-green-200 font-bold text-lg mb-4 flex items-center">
                        <span class="mr-2">‚úÖ</span>
                        Solutions
                      </h4>
                      <ul class="space-y-2">
                        {details.solutions?.map((solution, i) => (
                          <li class="text-green-100 flex items-start">
                            <span class="text-green-400 mr-2 mt-1">‚Ä¢</span>
                            <span>{solution}</span>
                          </li>
                        ))}
                      </ul>
                    </div>
                  </div>
                </div>
              ))
            ) : (
              <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-12 text-center">
                <div class="text-6xl mb-4">üîß</div>
                <h3 class="text-2xl font-bold text-white mb-4">No Troubleshooting Data</h3>
                <p class="text-blue-200">Contact technical support for assistance</p>
              </div>
            )}
          </div>
        </div>

        <!-- Maintenance Tab -->
        <div id="maintenance-content" class="tab-content hidden">
          {currentManual.maintenance ? (
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {Object.entries(currentManual.maintenance).map(([frequency, tasks]) => (
                <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 hover:bg-white/20 transition-all duration-300 transform hover:scale-105">
                  <h3 class="text-2xl font-bold text-white mb-6 flex items-center">
                    <span class={`w-4 h-4 rounded-full mr-3 ${
                      frequency === 'Daily' ? 'bg-green-400' :
                      frequency === 'Weekly' ? 'bg-blue-400' :
                      frequency === 'Monthly' ? 'bg-yellow-400' :
                      frequency === 'Quarterly' ? 'bg-orange-400' :
                      'bg-purple-400'
                    }`}></span>
                    {frequency}
                  </h3>
                  <ul class="space-y-3">
                    {tasks.map((task, index) => (
                      <li class="text-blue-200 flex items-start">
                        <span class="text-white mr-3 mt-1">‚Ä¢</span>
                        <span>{task}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              ))}
            </div>
          ) : (
            <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-12 text-center">
              <div class="text-6xl mb-4">üìÖ</div>
              <h3 class="text-2xl font-bold text-white mb-4">No Maintenance Schedule</h3>
              <p class="text-blue-200">Contact technical support for maintenance guidance</p>
            </div>
          )}
        </div>

        <!-- Sections Tab -->
        <div id="sections-content" class="tab-content hidden">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {currentManual.sections?.map((section, index) => (
              <div class="group bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 hover:bg-white/20 transition-all duration-300 transform hover:scale-105 hover:-translate-y-2">
                <div class="flex items-center space-x-4">
                  <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl">
                    {index + 1}
                  </div>
                  <h3 class="text-white font-bold text-lg">{section}</h3>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Action Button -->
    <FloatingActions equipmentId={id} client:idle />
  </div>

  <style>
    @keyframes blob {
      0% { transform: translate(0px, 0px) scale(1); }
      33% { transform: translate(30px, -50px) scale(1.1); }
      66% { transform: translate(-20px, 20px) scale(0.9); }
      100% { transform: translate(0px, 0px) scale(1); }
    }
    
    @keyframes gradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    .animate-blob { animation: blob 7s infinite; }
    .animation-delay-2000 { animation-delay: 2s; }
    .animation-delay-4000 { animation-delay: 4s; }
    .animate-gradient { 
      background-size: 200% 200%;
      animation: gradient 3s ease infinite;
    }
  </style>

  <script>
    // Tab switching functionality
    document.addEventListener('DOMContentLoaded', function() {
      const tabs = document.querySelectorAll('.manual-tab');
      const contents = document.querySelectorAll('.tab-content');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          // Remove active class from all tabs
          tabs.forEach(t => {
            t.classList.remove('bg-white/20', 'shadow-lg');
            t.classList.add('text-white/70', 'hover:text-white', 'hover:bg-white/10');
          });
          
          // Hide all content
          contents.forEach(content => content.classList.add('hidden'));
          
          // Add active class to clicked tab
          tab.classList.remove('text-white/70', 'hover:text-white', 'hover:bg-white/10');
          tab.classList.add('bg-white/20', 'shadow-lg', 'text-white');
          
          // Show corresponding content
          const tabId = tab.getAttribute('data-tab');
          const content = document.getElementById(tabId + '-content');
          if (content) content.classList.remove('hidden');
        });
      });
    });
  </script>

</BaseLayout>


